<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Component</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Component</h1>

    




<section>

<header>
    
        <h2>
        Component
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Component"><span class="type-signature"></span>new Component<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Component.js.html">Component.js</a>, <a href="Component.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var $el = new Component('flipbase-recorder-intro', {
  tag: 'button',
  attrs: {
    'style': 'color: #FFF000; text-align: center;'
    'className': 'alternative-recorder-intro' // override className as default
  }
});

el.on('click', function (evt) {
 // handle click event
});

el.remove();

 </code></pre>



    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".extend"><span class="type-signature">(static) </span>extend<span class="type-signature"></span></h4>




<div class="description">
    Component.prototype.addToDOM = function() {
  if (this.parent && !document.body.contains(this.$el))
    this.parent.$el.appendChild(this.$el);
};

Component.prototype.listenTo = function (evnt, fn, context, store) {
  context = context || this;
  var index = pubsub.subscribe(evnt, fn, context, store);

  // Added indexes of eventlisteners to local storage, so they can be removed
  if (!this._pubsubs[evnt]) this._pubsubs[evnt] = [];
  this._pubsubs[evnt].push(index);
};

Component.prototype.trigger = function(evnt, store, args) {
  pubsub.publish(evnt, store, args);
};

Component.prototype.unsubscribe = function(evnt, store) {
  var events = this._pubsubs[evnt] || [];
  each(events, function(index) {
    pubsub.unsubscribe(evnt, index, store);
  });
};

Component.prototype.html = function(body) {
  if (typeof body === 'string') {
    this.$el.innerHTML = body;
  }
  return this.$el.innerHTML;
};

Component.prototype.on = function(evt, fn, el) {
  fn = bind(this, fn);
  this._events[evt] = fn;
  el = el || this.$el;
  events.on(el, evt, fn);
};

Component.prototype.off = function(evt, fn, el) {
  fn = this._events[evt] || fn;
  el = el || this.$el;
  events.off(el, evt, fn);
};

Component.prototype.show = function() {
  this.$el.style.display = 'block';
};

Component.prototype.hide = function() {
  this.$el.style.display = 'none';
};

Component.prototype.renderChild = function(child, data) {
  return this._children[child].render(data);
};

Component.prototype.getChild = function(compName) {
  return this._children[compName];
};

// FIXME: models hoeven niet ingepast te worden als args, omdat dit via
// het event system afgehandeld moet worden. 
// We create register a instanceId on each child so we can distribute events
// to an external (globally namespaced) event dispatcher.
Component.prototype.addChildren = function() {
  var _this = this;
  // var model = this.model || {};
  // var client = this.client || {};

  var options = this.options;
  options.playerInstanceId = this.playerInstanceId;
  delete options.$el;

  // Children property is provided by the prototype of the instance
  each(this.children, function(compName) {
    _this.addChild(compName, options);
  });
};

Component.prototype.addChild = function(compName, options) {
  var Comp = this.getComponent(compName);
  options.parent = this;
  
  if (!this._children[compName] && Comp)
    this._children[compName] = new Comp(options);

  return this._children[compName];
};

Component.prototype.removeChild = function(child) {
  child = this._children[child];
  
  if (child) {
    child.destroy();
    delete this._children[child];
  }
};
  
Component.prototype.remove = function() {
  // If the current component has a parentNode use it
  if (this.$el.parentNode) {
    return this.$el.parentNode.removeChild(this.$el);
  }
};

Component.prototype.destroy = function() {
  var childs = keys(this._children);
  var events = keys(this._events);
  var _this = this;

  if (childs.length)
    this.removeChildren();

  if (events.length)
    each(events, function(key) {
      _this.off(key, events[key]);
    });

  this.remove();

  this.$el = null;
};


Component.getComponent = function(name) {
  if (Component._components[name])
    return Component._components[name];

  // log.error('Component"' + name + '"not registered');
};

Component.registerComponent = function(name, comp) {
  if (!Component._components)
    Component._components = {};

  Component._components[name] = comp;
  return comp;
};
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Component.js.html">Component.js</a>, <a href="Component.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="_render"><span class="type-signature"></span>_render<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Internal method that triggers `willRender`, `render` and `didRender` methods
synchronously.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Component.js.html">Component.js</a>, <a href="Component.js.html#line101">line 101</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-modules_base64.html">modules/base64</a></li><li><a href="module-modules_browser.html">modules/browser</a></li><li><a href="module-modules_cookie.html">modules/cookie</a></li><li><a href="module-modules_DOM.html">modules/DOM</a></li><li><a href="module-modules_events.html">modules/events</a></li><li><a href="module-modules_LogX.html">modules/LogX</a></li><li><a href="module-modules_LogX-console-transport.html">modules/LogX-console-transport</a></li><li><a href="module-modules_LogX-jsonp-transport.html">modules/LogX-jsonp-transport</a></li><li><a href="module-modules_PubSub.html">modules/PubSub</a></li><li><a href="module-modules_utils.html">modules/utils</a></li></ul><h3>Classes</h3><ul><li><a href="Component.html">Component</a></li><li><a href="Model.html">Model</a></li></ul><h3>Namespaces</h3><ul><li><a href="global.html#Flipbase">Flipbase</a></li></ul><h3>Mixins</h3><ul><li><a href="extendProto.html">extendProto</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-getting-started.html">getting-started</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Sat Oct 24 2015 16:14:46 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>